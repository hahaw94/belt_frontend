## 登录模块

1. `POST /api/v1/auth/login`：
   1.1 接口定位
   本接口用于实现用户名密码登录功能，属于登录模块，用户通过用户名和密码进行登录认证，返回JWT token用于后续接口调用
   1.2 适用范围
   适用于Web前端登录页面模块调用
   1.3 前置条件
   调用需携带有效的用户名和密码，用户账号未被锁定

2. `POST /api/v1/auth/verify`：
   2.1 接口定位
   本接口用于实现Token验证功能，属于登录模块，验证当前Token是否有效，返回用户信息和权限
   2.2 适用范围
   适用于需要验证用户身份的所有页面模块调用
   2.3 前置条件
   调用需携带有效且未过期的JWT Token

3. `POST /api/v1/auth/refresh`：
   3.1 接口定位
   本接口用于实现Token刷新功能，属于登录模块，使用刷新Token获取新的访问Token，延长会话时间
   3.2 适用范围
   适用于Token即将过期时的自动刷新机制调用
   3.3 前置条件
   调用需携带有效的刷新Token且用户会话未失效

4. `POST /api/v1/auth/logout`：
   4.1 接口定位
   本接口用于实现用户登出功能，属于登录模块，用户主动登出，使当前Token失效并记录登出日志
   4.2 适用范围
   适用于用户主动退出登录时调用
   4.3 前置条件
   调用需携带有效的JWT Token

5. `GET /api/v1/auth/userinfo`：
   5.1 接口定位
   本接口用于实现获取当前用户信息功能，属于登录模块，获取当前登录用户的详细信息，包括权限列表和基本资料
   5.2 适用范围
   适用于需要展示用户信息的页面模块调用
   5.3 前置条件
   调用需携带有效的JWT Token且用户状态正常

6. `PUT /api/v1/auth/change-password`：
   6.1 接口定位
   本接口用于实现修改密码功能，属于登录模块，用户修改登录密码，需要验证原密码
   6.2 适用范围
   适用于用户个人信息管理页面的密码修改功能调用
   6.3 前置条件
   调用需携带有效的JWT Token、正确的原密码验证、新密码符合安全策略

## 用户管理模块

7. `POST /api/v1/users`：
   7.1 接口定位
   本接口用于实现创建用户功能，属于用户管理模块，超级管理员创建新用户，支持批量创建，需要设置用户基本信息及密码
   7.2 适用范围
   适用于用户管理页面的新增用户功能调用
   7.3 前置条件
   调用需携带超级管理员权限的JWT Token、提供完整的用户信息、用户名不重复

8. `DELETE /api/v1/users/{userId}`：
   8.1 接口定位
   本接口用于实现删除用户功能，属于用户管理模块，超级管理员删除指定用户，支持单个删除
   8.2 适用范围
   适用于用户管理页面的删除用户功能调用
   8.3 前置条件
   调用需携带超级管理员权限的JWT Token、用户存在且不是系统默认用户、确认删除操作

9. `DELETE /api/v1/users/batch`：
   9.1 接口定位
   本接口用于实现批量删除用户功能，属于用户管理模块，超级管理员批量删除多个用户
   9.2 适用范围
   适用于用户管理页面的批量删除用户功能调用
   9.3 前置条件
   调用需携带超级管理员权限的JWT Token、提供有效的用户ID列表、确认批量删除操作

10. `PUT /api/v1/users/{userId}`：
    10.1 接口定位
    本接口用于实现编辑用户信息功能，属于用户管理模块，超级管理员编辑用户基本信息，包括用户名、邮箱、电话等
    10.2 适用范围
    适用于用户管理页面的编辑用户信息功能调用
    10.3 前置条件
    调用需携带超级管理员权限的JWT Token、用户存在、提供有效的用户信息格式

11. `PUT /api/v1/users/{userId}/lock`：
    11.1 接口定位
    本接口用于实现锁定用户功能，属于用户管理模块，超级管理员锁定用户账号，禁止用户登录
    11.2 适用范围
    适用于用户管理页面的锁定用户功能调用
    11.3 前置条件
    调用需携带超级管理员权限的JWT Token、用户存在且不是超级管理员、确认锁定操作

12. `PUT /api/v1/users/{userId}/unlock`：
    12.1 接口定位
    本接口用于实现解锁用户功能，属于用户管理模块，超级管理员解锁用户账号，恢复用户登录权限
    12.2 适用范围
    适用于用户管理页面的解锁用户功能调用
    12.3 前置条件
    调用需携带超级管理员权限的JWT Token、用户存在且处于锁定状态

13. `PUT /api/v1/users/{userId}/reset-password`：
    13.1 接口定位
    本接口用于实现重置用户密码功能，属于用户管理模块，超级管理员重置指定用户的登录密码
    13.2 适用范围
    适用于用户管理页面的重置密码功能调用
    13.3 前置条件
    调用需携带超级管理员权限的JWT Token、用户存在、确认重置操作、新密码符合安全策略

14. `GET /api/v1/users`：
    14.1 接口定位
    本接口用于实现获取用户列表功能，属于用户管理模块，获取系统中所有用户列表
    14.2 适用范围
    适用于用户管理页面的用户列表展示功能调用
    14.3 前置条件
    调用需携带管理员权限的JWT Token

15. `GET /api/v1/users/{userId}`：
    15.1 接口定位
    本接口用于实现获取用户详情功能，属于用户管理模块，获取指定用户的详细信息，包括角色权限等
    15.2 适用范围
    适用于用户管理页面的用户详情查看功能调用
    15.3 前置条件
    调用需携带管理员权限的JWT Token、用户存在

16. `GET/POST/PUT/DELETE /api/v1/users/{userId}/profile`：
    16.1 接口定位
    本接口用于实现用户个人资料管理功能，属于用户管理模块，用户自主管理个人资料信息，包括修改个人基本信息、头像等
    16.2 适用范围
    适用于个人中心页面的资料管理功能调用
    16.3 前置条件
    调用需携带有效的JWT Token且只能操作自己的资料、头像文件格式符合要求

## 角色管理模块

17. `POST /api/v1/roles`：
    17.1 接口定位
    本接口用于实现创建角色功能，属于角色管理模块，系统默认有管理员和操作员两种角色，支持创建自定义角色
    17.2 适用范围
    适用于角色管理页面的新增角色功能调用
    17.3 前置条件
    调用需携带超级管理员权限的JWT Token、角色名称不重复、提供完整的角色信息

18. `DELETE /api/v1/roles/{roleId}`：
    18.1 接口定位
    本接口用于实现删除角色功能，属于角色管理模块，删除指定的自定义角色，系统默认角色不可删除
    18.2 适用范围
    适用于角色管理页面的删除角色功能调用
    18.3 前置条件
    调用需携带超级管理员权限的JWT Token、角色存在且为自定义角色、确认删除操作、角色未被用户使用

19. `PUT /api/v1/roles/{roleId}`：
    19.1 接口定位
    本接口用于实现编辑角色基本信息功能，属于角色管理模块，编辑角色基本信息（角色名称、描述等），不包括权限设置
    19.2 适用范围
    适用于角色管理页面的编辑角色功能调用
    19.3 前置条件
    调用需携带超级管理员权限的JWT Token、角色存在、提供有效的角色信息

20. `GET /api/v1/roles`：
    20.1 接口定位
    本接口用于实现获取角色列表功能，属于角色管理模块，获取系统中所有角色列表，包括默认角色和自定义角色
    20.2 适用范围
    适用于角色管理页面的角色列表展示功能调用
    20.3 前置条件
    调用需携带管理员权限的JWT Token

21. `GET /api/v1/roles/{roleId}`：
    21.1 接口定位
    本接口用于实现获取角色详情功能，属于角色管理模块，获取指定角色的详细信息，包括权限列表
    21.2 适用范围
    适用于角色管理页面的角色详情查看功能调用
    21.3 前置条件
    调用需携带管理员权限的JWT Token、角色存在

22. `POST /api/v1/users/{userId}/roles`：
    22.1 接口定位
    本接口用于实现分配用户角色功能，属于角色管理模块，为指定用户分配角色，用户可以关联多个角色
    22.2 适用范围
    适用于用户管理页面的用户角色分配功能调用
    22.3 前置条件
    调用需携带超级管理员权限的JWT Token、用户和角色都存在、角色未重复分配

23. `DELETE /api/v1/users/{userId}/roles/{roleId}`：
    23.1 接口定位
    本接口用于实现移除用户角色功能，属于角色管理模块，移除用户的指定角色
    23.2 适用范围
    适用于用户管理页面的移除用户角色功能调用
    23.3 前置条件
    调用需携带超级管理员权限的JWT Token、用户和角色存在且已关联、确认移除操作

24. `GET /api/v1/users/{userId}/roles`：
    24.1 接口定位
    本接口用于实现获取用户角色列表功能，属于角色管理模块，获取指定用户的所有角色列表
    24.2 适用范围
    适用于用户管理页面的用户角色查看功能调用
    24.3 前置条件
    调用需携带管理员权限的JWT Token、用户存在

25. `GET /api/v1/permissions`：
    25.1 接口定位
    本接口用于实现获取权限列表功能，属于角色管理模块，获取系统中所有可用权限列表，用于角色权限分配
    25.2 适用范围
    适用于角色权限管理页面的权限列表展示功能调用
    25.3 前置条件
    调用需携带管理员权限的JWT Token

26. `PUT /api/v1/roles/{roleId}/permissions`：
    26.1 接口定位
    本接口用于实现批量设置角色权限功能，属于角色管理模块，批量设置角色的所有权限（覆盖式更新）
    26.2 适用范围
    适用于角色权限管理页面的批量权限设置功能调用
    26.3 前置条件
    调用需携带超级管理员权限的JWT Token、角色存在、提供有效的权限ID列表

27. `POST /api/v1/roles/{roleId}/permissions`：
    27.1 接口定位
    本接口用于实现添加角色权限功能，属于角色管理模块，为指定角色添加新权限
    27.2 适用范围
    适用于角色权限管理页面的添加权限功能调用
    27.3 前置条件
    调用需携带超级管理员权限的JWT Token、角色和权限存在、权限未重复分配

28. `DELETE /api/v1/roles/{roleId}/permissions/{permissionId}`：
    28.1 接口定位
    本接口用于实现移除角色权限功能，属于角色管理模块，移除角色的指定权限
    28.2 适用范围
    适用于角色权限管理页面的移除权限功能调用
    28.3 前置条件
    调用需携带超级管理员权限的JWT Token、角色和权限存在且已关联、确认移除操作

29. `GET /api/v1/roles/{roleId}/permissions`：
    29.1 接口定位
    本接口用于实现获取角色权限列表功能，属于角色管理模块，获取指定角色的所有权限列表
    29.2 适用范围
    适用于角色权限管理页面的权限列表查看功能调用
    29.3 前置条件
    调用需携带管理员权限的JWT Token、角色存在
	
	## 5.1 用户登录接口
### 5.1.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 用户名密码登录 |
| 接口路径 | /api/v1/auth/login |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 5000ms |

### 5.1.2 请求参数
#### 5.1.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |

#### 5.1.2.2 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| username | String | 是 | 4-20位字符 | admin | 用户名 |
| password | String | 是 | 6-20位字符 | 123456 | 登录密码 |

### 5.1.3 响应参数

#### 5.1.3.1 通用响应结构
| 参数名 | 类型 | 描述 |
|--------|------|------|
| code | Integer | 响应状态码（200=成功，其他=错误） |
| success | Boolean | 操作是否成功 |
| message | String | 响应描述（成功/错误信息） |
| data | Object | 业务数据（成功时返回，失败时为null） |
| timestamp | Long | 响应时间戳 |

#### 5.1.3.2 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "登录成功",
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "userInfo": {
            "userId": 10001,
            "username": "admin",
            "roles": ["管理员"]
        }
    },
    "timestamp": 1672531200000
}
```

#### 5.1.3.3 错误响应示例（code≠200）
```json
{
    "code": 401,
    "success": false,
    "message": "用户名或密码错误",
    "data": null,
    "timestamp": 1672531200000
}
```

### 5.1.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 登录验证通过 |
| 400 | 请求参数错误 | 用户名或密码格式不正确 |
| 401 | 认证失败 | 用户名或密码错误 |
| 423 | 账户被锁定 | 用户账号被管理员锁定 |
| 500 | 服务器内部错误 | 数据库连接异常 |

## 5.2 Token验证接口

### 5.2.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | Token验证 |
| 接口路径 | /api/v1/auth/verify |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.2.2 请求参数

#### 5.2.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

### 5.2.3 响应参数

#### 5.2.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "Token验证成功",
    "data": {
        "valid": true,
        "userInfo": {
            "userId": 10001,
            "username": "admin",
            "permissions": ["user_read", "device_manage"]
        }
    },
    "timestamp": 1672531200000
}
```

### 5.2.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | Token验证通过 |
| 401 | Token无效 | Token过期或格式错误 |
| 500 | 服务器内部错误 | Token验证服务异常 |

## 5.3 Token刷新接口

### 5.3.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | Token刷新 |
| 接口路径 | /api/v1/auth/refresh |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.3.2 请求参数

#### 5.3.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |

#### 5.3.2.2 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| refreshToken | String | 是 | JWT格式 | eyJhbGciOi... | 刷新令牌 |

### 5.3.3 响应参数

#### 5.3.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "Token刷新成功",
    "data": {
        "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
    },
    "timestamp": 1672531200000
}
```

### 5.3.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | Token刷新成功 |
| 401 | 刷新Token无效 | 刷新Token过期或格式错误 |
| 500 | 服务器内部错误 | Token生成服务异常 |

## 5.4 用户登出接口

### 5.4.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 用户登出 |
| 接口路径 | /api/v1/auth/logout |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.4.2 请求参数

#### 5.4.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

### 5.4.3 响应参数

#### 5.4.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "登出成功",
    "data": null,
    "timestamp": 1672531200000
}
```

### 5.4.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 用户登出成功 |
| 401 | Token无效 | Token已过期 |
| 500 | 服务器内部错误 | 登出日志记录失败 |

## 5.5 获取当前用户信息接口

### 5.5.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取当前用户信息 |
| 接口路径 | /api/v1/auth/userinfo |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.5.2 请求参数

#### 5.5.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

### 5.5.3 响应参数

#### 5.5.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "获取成功",
    "data": {
        "userId": 10001,
        "username": "admin",
        "email": "admin@example.com",
        "phone": "13800138000",
        "roles": ["管理员"],
        "permissions": ["user_read", "device_manage"],
        "loginTime": "2023-12-01 08:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.5.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 获取用户信息成功 |
| 401 | Token无效 | Token过期或格式错误 |
| 500 | 服务器内部错误 | 用户信息查询失败 |

## 5.6 修改密码接口

### 5.6.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 修改密码 |
| 接口路径 | /api/v1/auth/change-password |
| 请求方法 | PUT |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.6.2 请求参数

#### 5.6.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.6.2.2 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| oldPassword | String | 是 | 6-20位字符 | 123456 | 原密码 |
| newPassword | String | 是 | 6-20位字符 | 654321 | 新密码 |

### 5.6.3 响应参数

#### 5.6.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "密码修改成功",
    "data": null,
    "timestamp": 1672531200000
}
```

### 5.6.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 密码修改成功 |
| 400 | 请求参数错误 | 原密码错误或新密码格式不正确 |
| 401 | Token无效 | Token过期或格式错误 |
| 500 | 服务器内部错误 | 密码更新失败 |

---

## 5.7 创建用户接口

### 5.7.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 创建用户 |
| 接口路径 | /api/v1/users |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.7.2 请求参数

#### 5.7.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.7.2.2 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| username | String | 是 | 4-20位字符 | testuser | 用户名 |
| password | String | 是 | 6-20位字符 | 123456 | 登录密码 |
| email | String | 否 | 有效邮箱格式 | test@example.com | 邮箱地址 |
| phone | String | 否 | 11位手机号 | 13800138000 | 手机号码 |
| roleIds | Array | 否 | 有效角色ID数组 | ["role_001"] | 分配的角色ID列表 |

### 5.7.3 响应参数

#### 5.7.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "用户创建成功",
    "data": {
        "userId": 10002,
        "username": "testuser",
        "email": "test@example.com",
        "phone": "13800138000",
        "status": "active",
        "createTime": "2023-12-01 10:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.7.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 用户创建成功 |
| 400 | 请求参数错误 | 用户名已存在、邮箱格式错误 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 500 | 服务器内部错误 | 数据库插入失败 |

---
好的，我从第八个接口开始生成，每次5-6个接口：

## 5.8 删除用户接口

### 5.8.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 删除用户 |
| 接口路径 | /api/v1/users/{userId} |
| 请求方法 | DELETE |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.8.2 请求参数

#### 5.8.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.8.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

### 5.8.3 响应参数

#### 5.8.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "用户删除成功",
    "data": null,
    "timestamp": 1672531200000
}
```

#### 5.8.3.2 错误响应示例（code≠200）
```json
{
    "code": 404,
    "success": false,
    "message": "用户不存在",
    "data": null,
    "timestamp": 1672531200000
}
```

### 5.8.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 用户删除成功 |
| 400 | 请求参数错误 | 用户ID格式错误 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 409 | 删除冲突 | 用户正在使用中，无法删除 |
| 500 | 服务器内部错误 | 数据库删除失败 |

---

## 5.9 批量删除用户接口

### 5.9.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 批量删除用户 |
| 接口路径 | /api/v1/users/batch |
| 请求方法 | DELETE |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 5000ms |

### 5.9.2 请求参数

#### 5.9.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.9.2.2 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| userIds | Array | 是 | 有效用户ID数组 | ["10002", "10003"] | 待删除的用户ID列表 |

### 5.9.3 响应参数

#### 5.9.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "批量删除完成",
    "data": {
        "successCount": 2,
        "failedCount": 0,
        "successIds": ["10002", "10003"],
        "failedIds": []
    },
    "timestamp": 1672531200000
}
```

### 5.9.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 批量删除完成（部分或全部成功） |
| 400 | 请求参数错误 | 用户ID列表为空或格式错误 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 500 | 服务器内部错误 | 批量删除操作失败 |

---

## 5.10 编辑用户信息接口

### 5.10.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 编辑用户信息 |
| 接口路径 | /api/v1/users/{userId} |
| 请求方法 | PUT |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.10.2 请求参数

#### 5.10.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.10.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

#### 5.10.2.3 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| username | String | 否 | 4-20位字符 | newuser | 用户名 |
| email | String | 否 | 有效邮箱格式 | new@example.com | 邮箱地址 |
| phone | String | 否 | 11位手机号 | 13900139000 | 手机号码 |

### 5.10.3 响应参数

#### 5.10.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "用户信息更新成功",
    "data": {
        "userId": 10002,
        "username": "newuser",
        "email": "new@example.com",
        "phone": "13900139000",
        "updateTime": "2023-12-01 15:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.10.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 用户信息更新成功 |
| 400 | 请求参数错误 | 邮箱格式错误、用户名重复 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 数据库更新失败 |

---

## 5.11 锁定用户接口

### 5.11.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 锁定用户 |
| 接口路径 | /api/v1/users/{userId}/lock |
| 请求方法 | PUT |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.11.2 请求参数

#### 5.11.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.11.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

#### 5.11.2.3 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| reason | String | 否 | 0-200字符 | 违规操作 | 锁定原因 |

### 5.11.3 响应参数

#### 5.11.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "用户锁定成功",
    "data": {
        "userId": 10002,
        "status": "locked",
        "lockTime": "2023-12-01 15:30:00",
        "reason": "违规操作"
    },
    "timestamp": 1672531200000
}
```

### 5.11.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 用户锁定成功 |
| 400 | 请求参数错误 | 用户已被锁定 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用或尝试锁定超级管理员 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 用户状态更新失败 |

---

## 5.12 解锁用户接口

### 5.12.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 解锁用户 |
| 接口路径 | /api/v1/users/{userId}/unlock |
| 请求方法 | PUT |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.12.2 请求参数

#### 5.12.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.12.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

### 5.12.3 响应参数

#### 5.12.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "用户解锁成功",
    "data": {
        "userId": 10002,
        "status": "active",
        "unlockTime": "2023-12-01 16:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.12.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 用户解锁成功 |
| 400 | 请求参数错误 | 用户未被锁定 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 用户状态更新失败 |

---

## 5.13 重置用户密码接口

### 5.13.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 重置用户密码 |
| 接口路径 | /api/v1/users/{userId}/reset-password |
| 请求方法 | PUT |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.13.2 请求参数

#### 5.13.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.13.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

#### 5.13.2.3 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| newPassword | String | 是 | 6-20位字符 | 123456 | 新密码 |

### 5.13.3 响应参数

#### 5.13.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "密码重置成功",
    "data": {
        "userId": 10002,
        "resetTime": "2023-12-01 16:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.13.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 密码重置成功 |
| 400 | 请求参数错误 | 新密码格式不符合要求 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 密码更新失败 |
---
## 5.14 获取用户列表接口

### 5.14.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取用户列表 |
| 接口路径 | /api/v1/users |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.14.2 请求参数

#### 5.14.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.14.2.2 Query参数
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| pageNum | Integer | 是 | ≥1 | 1 | 页码 |
| pageSize | Integer | 是 | 1-100 | 10 | 每页记录数 |
| username | String | 否 | 用户名模糊匹配 | admin | 用户名筛选 |
| status | String | 否 | active/locked | active | 用户状态筛选 |

### 5.14.3 响应参数

#### 5.14.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "查询成功",
    "data": {
        "list": [
            {
                "userId": 10001,
                "username": "admin",
                "email": "admin@example.com",
                "phone": "13800138000",
                "status": "active",
                "roles": ["管理员"],
                "createTime": "2023-11-01 10:00:00",
                "lastLoginTime": "2023-12-01 08:30:00"
            }
        ],
        "total": 25,
        "pageNum": 1,
        "pageSize": 10,
        "totalPages": 3
    },
    "timestamp": 1672531200000
}
```

### 5.14.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 查询成功返回数据 |
| 400 | 请求参数错误 | 分页参数超出范围 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 无用户查看权限 |
| 500 | 服务器内部错误 | 数据库查询异常 |

---

## 5.15 获取用户详情接口

### 5.15.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取用户详情 |
| 接口路径 | /api/v1/users/{userId} |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.15.2 请求参数

#### 5.15.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.15.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

### 5.15.3 响应参数

#### 5.15.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "查询成功",
    "data": {
        "userId": 10002,
        "username": "testuser",
        "email": "test@example.com",
        "phone": "13800138000",
        "status": "active",
        "roles": [
            {
                "roleId": "role_001",
                "roleName": "操作员",
                "assignTime": "2023-11-15 14:20:00"
            }
        ],
        "permissions": ["user_read", "device_view"],
        "createTime": "2023-11-15 14:00:00",
        "lastLoginTime": "2023-12-01 09:15:00",
        "loginCount": 25
    },
    "timestamp": 1672531200000
}
```

### 5.15.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 查询成功返回用户详情 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 无用户查看权限 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 数据库查询异常 |

---

## 5.16 用户个人资料管理接口

### 5.16.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 用户个人资料管理 |
| 接口路径 | /api/v1/users/{userId}/profile |
| 请求方法 | GET/POST/PUT/DELETE |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.16.2 请求参数

#### 5.16.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式（POST/PUT） |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.16.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

#### 5.16.2.3 Body参数（JSON对象，PUT方法）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| nickname | String | 否 | 1-50字符 | 张三 | 昵称 |
| avatar | String | 否 | 有效URL | http://example.com/avatar.jpg | 头像URL |
| bio | String | 否 | 0-200字符 | 系统管理员 | 个人简介 |

### 5.16.3 响应参数

#### 5.16.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "个人资料更新成功",
    "data": {
        "userId": 10002,
        "nickname": "张三",
        "avatar": "http://example.com/avatar.jpg",
        "bio": "系统管理员",
        "updateTime": "2023-12-01 16:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.16.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 个人资料操作成功 |
| 400 | 请求参数错误 | 头像URL格式错误 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 只能操作自己的资料 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 资料更新失败 |

---

## 5.17 创建角色接口

### 5.17.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 创建角色 |
| 接口路径 | /api/v1/roles |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.17.2 请求参数

#### 5.17.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.17.2.2 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| roleName | String | 是 | 2-50字符 | 安全员 | 角色名称 |
| roleCode | String | 是 | 2-20字符 | security | 角色编码 |
| description | String | 否 | 0-200字符 | 负责安全管理工作 | 角色描述 |
| permissionIds | Array | 否 | 有效权限ID数组 | ["perm_001"] | 初始权限列表 |

### 5.17.3 响应参数

#### 5.17.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "角色创建成功",
    "data": {
        "roleId": "role_003",
        "roleName": "安全员",
        "roleCode": "security",
        "description": "负责安全管理工作",
        "createTime": "2023-12-01 16:30:00",
        "permissionCount": 1
    },
    "timestamp": 1672531200000
}
```

### 5.17.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 角色创建成功 |
| 400 | 请求参数错误 | 角色名称已存在、角色编码重复 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 500 | 服务器内部错误 | 数据库插入失败 |

---

## 5.18 删除角色接口

### 5.18.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 删除角色 |
| 接口路径 | /api/v1/roles/{roleId} |
| 请求方法 | DELETE |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.18.2 请求参数

#### 5.18.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.18.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| roleId | String | 是 | role_003 | 角色唯一标识 |

### 5.18.3 响应参数

#### 5.18.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "角色删除成功",
    "data": null,
    "timestamp": 1672531200000
}
```

#### 5.18.3.2 错误响应示例（code≠200）
```json
{
    "code": 409,
    "success": false,
    "message": "角色正在使用中，无法删除",
    "data": {
        "userCount": 3,
        "users": ["user_001", "user_002", "user_003"]
    },
    "timestamp": 1672531200000
}
```

### 5.18.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 角色删除成功 |
| 400 | 请求参数错误 | 尝试删除系统默认角色 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 角色不存在 | 指定角色ID不存在 |
| 409 | 删除冲突 | 角色正在被用户使用 |
| 500 | 服务器内部错误 | 数据库删除失败 |
## 5.19 编辑角色基本信息接口

### 5.19.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 编辑角色基本信息 |
| 接口路径 | /api/v1/roles/{roleId} |
| 请求方法 | PUT |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.19.2 请求参数

#### 5.19.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.19.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| roleId | String | 是 | role_003 | 角色唯一标识 |

#### 5.19.2.3 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| roleName | String | 否 | 2-50字符 | 高级安全员 | 角色名称 |
| description | String | 否 | 0-200字符 | 负责高级安全管理工作 | 角色描述 |

### 5.19.3 响应参数

#### 5.19.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "角色信息更新成功",
    "data": {
        "roleId": "role_003",
        "roleName": "高级安全员",
        "roleCode": "security",
        "description": "负责高级安全管理工作",
        "updateTime": "2023-12-01 17:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.19.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 角色信息更新成功 |
| 400 | 请求参数错误 | 角色名称已存在 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用或尝试修改系统默认角色 |
| 404 | 角色不存在 | 指定角色ID不存在 |
| 500 | 服务器内部错误 | 数据库更新失败 |

---

## 5.20 获取角色列表接口

### 5.20.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取角色列表 |
| 接口路径 | /api/v1/roles |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.20.2 请求参数

#### 5.20.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.20.2.2 Query参数
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| pageNum | Integer | 是 | ≥1 | 1 | 页码 |
| pageSize | Integer | 是 | 1-100 | 10 | 每页记录数 |
| roleName | String | 否 | 角色名称模糊匹配 | 管理 | 角色名称筛选 |
| roleType | String | 否 | system/custom | system | 角色类型筛选 |

### 5.20.3 响应参数

#### 5.20.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "查询成功",
    "data": {
        "list": [
            {
                "roleId": "role_001",
                "roleName": "管理员",
                "roleCode": "admin",
                "description": "系统管理员角色",
                "roleType": "system",
                "userCount": 2,
                "permissionCount": 15,
                "createTime": "2023-11-01 10:00:00"
            },
            {
                "roleId": "role_002",
                "roleName": "操作员",
                "roleCode": "operator",
                "description": "系统操作员角色",
                "roleType": "system",
                "userCount": 5,
                "permissionCount": 8,
                "createTime": "2023-11-01 10:00:00"
            }
        ],
        "total": 5,
        "pageNum": 1,
        "pageSize": 10,
        "totalPages": 1
    },
    "timestamp": 1672531200000
}
```

### 5.20.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 查询成功返回数据 |
| 400 | 请求参数错误 | 分页参数超出范围 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 无角色查看权限 |
| 500 | 服务器内部错误 | 数据库查询异常 |

---

## 5.21 获取角色详情接口

### 5.21.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取角色详情 |
| 接口路径 | /api/v1/roles/{roleId} |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.21.2 请求参数

#### 5.21.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.21.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| roleId | String | 是 | role_001 | 角色唯一标识 |

### 5.21.3 响应参数

#### 5.21.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "查询成功",
    "data": {
        "roleId": "role_001",
        "roleName": "管理员",
        "roleCode": "admin",
        "description": "系统管理员角色",
        "roleType": "system",
        "permissions": [
            {
                "permissionId": "perm_001",
                "permissionName": "用户管理",
                "resource": "user",
                "action": "manage",
                "assignTime": "2023-11-01 10:00:00"
            }
        ],
        "users": [
            {
                "userId": "10001",
                "username": "admin",
                "assignTime": "2023-11-01 10:00:00"
            }
        ],
        "createTime": "2023-11-01 10:00:00",
        "updateTime": "2023-12-01 16:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.21.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 查询成功返回角色详情 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 无角色查看权限 |
| 404 | 角色不存在 | 指定角色ID不存在 |
| 500 | 服务器内部错误 | 数据库查询异常 |

---

## 5.22 分配用户角色接口

### 5.22.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 分配用户角色 |
| 接口路径 | /api/v1/users/{userId}/roles |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.22.2 请求参数

#### 5.22.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.22.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

#### 5.22.2.3 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| roleIds | Array | 是 | 有效角色ID数组 | ["role_002", "role_003"] | 要分配的角色ID列表 |

### 5.22.3 响应参数

#### 5.22.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "角色分配成功",
    "data": {
        "userId": "10002",
        "assignedRoles": [
            {
                "roleId": "role_002",
                "roleName": "操作员",
                "assignTime": "2023-12-01 17:30:00"
            },
            {
                "roleId": "role_003",
                "roleName": "安全员",
                "assignTime": "2023-12-01 17:30:00"
            }
        ],
        "totalRoleCount": 2
    },
    "timestamp": 1672531200000
}
```

### 5.22.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 角色分配成功 |
| 400 | 请求参数错误 | 角色ID不存在或已分配 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 角色分配失败 |

---

## 5.23 移除用户角色接口

### 5.23.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 移除用户角色 |
| 接口路径 | /api/v1/users/{userId}/roles/{roleId} |
| 请求方法 | DELETE |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.23.2 请求参数

#### 5.23.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.23.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |
| roleId | String | 是 | role_003 | 角色唯一标识 |

### 5.23.3 响应参数

#### 5.23.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "角色移除成功",
    "data": {
        "userId": "10002",
        "removedRole": {
            "roleId": "role_003",
            "roleName": "安全员",
            "removeTime": "2023-12-01 18:00:00"
        }
    },
    "timestamp": 1672531200000
}
```

### 5.23.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 角色移除成功 |
| 400 | 请求参数错误 | 用户未分配该角色 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 资源不存在 | 用户或角色不存在 |
| 500 | 服务器内部错误 | 角色移除失败 |

---

## 5.24 获取用户角色列表接口

### 5.24.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取用户角色列表 |
| 接口路径 | /api/v1/users/{userId}/roles |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.24.2 请求参数

#### 5.24.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.24.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| userId | String | 是 | 10002 | 用户唯一标识 |

### 5.24.3 响应参数

#### 5.24.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "查询成功",
    "data": {
        "userId": "10002",
        "username": "testuser",
        "roles": [
            {
                "roleId": "role_002",
                "roleName": "操作员",
                "roleCode": "operator",
                "description": "系统操作员角色",
                "assignTime": "2023-11-15 14:20:00",
                "permissionCount": 8
            }
        ],
        "totalRoleCount": 1,
        "totalPermissionCount": 8
    },
    "timestamp": 1672531200000
}
```

### 5.24.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 查询成功返回用户角色列表 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 无角色查看权限 |
| 404 | 用户不存在 | 指定用户ID不存在 |
| 500 | 服务器内部错误 | 数据库查询异常 |
## 5.25 获取权限列表接口

### 5.25.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取权限列表 |
| 接口路径 | /api/v1/permissions |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.25.2 请求参数

#### 5.25.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.25.2.2 Query参数
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| pageNum | Integer | 是 | ≥1 | 1 | 页码 |
| pageSize | Integer | 是 | 1-100 | 10 | 每页记录数 |
| resource | String | 否 | 资源类型 | user | 资源类型筛选 |
| action | String | 否 | 操作类型 | read | 操作类型筛选 |

### 5.25.3 响应参数

#### 5.25.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "查询成功",
    "data": {
        "list": [
            {
                "permissionId": "perm_001",
                "permissionName": "用户查看",
                "permissionCode": "user:read",
                "resource": "user",
                "action": "read",
                "description": "查看用户信息权限",
                "category": "用户管理",
                "createTime": "2023-11-01 10:00:00"
            },
            {
                "permissionId": "perm_002",
                "permissionName": "用户管理",
                "permissionCode": "user:manage",
                "resource": "user",
                "action": "manage",
                "description": "管理用户信息权限",
                "category": "用户管理",
                "createTime": "2023-11-01 10:00:00"
            }
        ],
        "total": 25,
        "pageNum": 1,
        "pageSize": 10,
        "totalPages": 3
    },
    "timestamp": 1672531200000
}
```

### 5.25.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 查询成功返回权限列表 |
| 400 | 请求参数错误 | 分页参数超出范围 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 无权限查看权限 |
| 500 | 服务器内部错误 | 数据库查询异常 |

---

## 5.26 批量设置角色权限接口

### 5.26.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 批量设置角色权限 |
| 接口路径 | /api/v1/roles/{roleId}/permissions |
| 请求方法 | PUT |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.26.2 请求参数

#### 5.26.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.26.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| roleId | String | 是 | role_003 | 角色唯一标识 |

#### 5.26.2.3 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| permissionIds | Array | 是 | 有效权限ID数组 | ["perm_001", "perm_002"] | 权限ID列表（覆盖式更新） |

### 5.26.3 响应参数

#### 5.26.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "角色权限设置成功",
    "data": {
        "roleId": "role_003",
        "roleName": "安全员",
        "permissionCount": 2,
        "permissions": [
            {
                "permissionId": "perm_001",
                "permissionName": "用户查看"
            },
            {
                "permissionId": "perm_002",
                "permissionName": "用户管理"
            }
        ],
        "updateTime": "2023-12-01 18:30:00"
    },
    "timestamp": 1672531200000
}
```

### 5.26.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 角色权限设置成功 |
| 400 | 请求参数错误 | 权限ID不存在 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 角色不存在 | 指定角色ID不存在 |
| 500 | 服务器内部错误 | 权限设置失败 |

---

## 5.27 添加角色权限接口

### 5.27.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 添加角色权限 |
| 接口路径 | /api/v1/roles/{roleId}/permissions |
| 请求方法 | POST |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.27.2 请求参数

#### 5.27.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Content-Type | String | 是 | application/json | 请求体数据格式 |
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.27.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| roleId | String | 是 | role_003 | 角色唯一标识 |

#### 5.27.2.3 Body参数（JSON对象）
| 参数名 | 类型 | 是否必填 | 取值范围 | 示例值 | 描述 |
|--------|------|----------|----------|--------|------|
| permissionIds | Array | 是 | 有效权限ID数组 | ["perm_003", "perm_004"] | 要添加的权限ID列表 |

### 5.27.3 响应参数

#### 5.27.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "权限添加成功",
    "data": {
        "roleId": "role_003",
        "addedPermissions": [
            {
                "permissionId": "perm_003",
                "permissionName": "设备查看",
                "addTime": "2023-12-01 18:30:00"
            },
            {
                "permissionId": "perm_004",
                "permissionName": "设备管理",
                "addTime": "2023-12-01 18:30:00"
            }
        ],
        "totalPermissionCount": 4
    },
    "timestamp": 1672531200000
}
```

### 5.27.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 权限添加成功 |
| 400 | 请求参数错误 | 权限ID不存在或已分配 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 角色不存在 | 指定角色ID不存在 |
| 500 | 服务器内部错误 | 权限添加失败 |

---

## 5.28 移除角色权限接口

### 5.28.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 移除角色权限 |
| 接口路径 | /api/v1/roles/{roleId}/permissions/{permissionId} |
| 请求方法 | DELETE |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.28.2 请求参数

#### 5.28.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.28.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| roleId | String | 是 | role_003 | 角色唯一标识 |
| permissionId | String | 是 | perm_004 | 权限唯一标识 |

### 5.28.3 响应参数

#### 5.28.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "权限移除成功",
    "data": {
        "roleId": "role_003",
        "removedPermission": {
            "permissionId": "perm_004",
            "permissionName": "设备管理",
            "removeTime": "2023-12-01 19:00:00"
        },
        "remainingPermissionCount": 3
    },
    "timestamp": 1672531200000
}
```

### 5.28.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 权限移除成功 |
| 400 | 请求参数错误 | 角色未分配该权限 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 非超级管理员调用 |
| 404 | 资源不存在 | 角色或权限不存在 |
| 500 | 服务器内部错误 | 权限移除失败 |

---

## 5.29 获取角色权限列表接口

### 5.29.1 基础信息
| 项目 | 内容 |
|------|------|
| 接口名称 | 获取角色权限列表 |
| 接口路径 | /api/v1/roles/{roleId}/permissions |
| 请求方法 | GET |
| 请求格式 | application/json |
| 响应格式 | application/json |
| 超时时间 | 3000ms |

### 5.29.2 请求参数

#### 5.29.2.1 Header参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| Authorization | String | 是 | Bearer eyJhbGciOi... | JWT认证令牌 |

#### 5.29.2.2 Path参数
| 参数名 | 类型 | 是否必填 | 示例值 | 描述 |
|--------|------|----------|--------|------|
| roleId | String | 是 | role_003 | 角色唯一标识 |

### 5.29.3 响应参数

#### 5.29.3.1 成功响应示例（code=200）
```json
{
    "code": 200,
    "success": true,
    "message": "查询成功",
    "data": {
        "roleId": "role_003",
        "roleName": "安全员",
        "permissions": [
            {
                "permissionId": "perm_001",
                "permissionName": "用户查看",
                "permissionCode": "user:read",
                "resource": "user",
                "action": "read",
                "description": "查看用户信息权限",
                "category": "用户管理",
                "assignTime": "2023-12-01 18:30:00"
            },
            {
                "permissionId": "perm_003",
                "permissionName": "设备查看",
                "permissionCode": "device:read",
                "resource": "device",
                "action": "read",
                "description": "查看设备信息权限",
                "category": "设备管理",
                "assignTime": "2023-12-01 18:30:00"
            }
        ],
        "totalPermissionCount": 2,
        "categories": ["用户管理", "设备管理"]
    },
    "timestamp": 1672531200000
}
```

### 5.29.4 状态码说明
| 状态码 | 含义 | 典型场景 |
|--------|------|----------|
| 200 | 成功 | 查询成功返回角色权限列表 |
| 401 | 未授权 | Token无效或过期 |
| 403 | 权限不足 | 无权限查看权限 |
| 404 | 角色不存在 | 指定角色ID不存在 |
| 500 | 服务器内部错误 | 数据库查询异常 |

---


